
pipeline {
	agent any
	triggers {
	pollscm '* * * * *'
	}
	tools {
    maven 'maven-3.9.2' 
<<<<<<< HEAD
	}
		stages {
			stage ('BUILD') {
				step {
				sh '''
				cd ./maven/ 
				cat ./maven/index.jsp
				mvn clean package
				cd ./maven/target/
				ls
				'''
				}
			}
			 stage ('Deploy') {
			steps {
			script {
=======
  }
  stages {
    stage ('Build') {
      steps {
        sh '''
        	cd ./maven/
        	mvn clean package
        	cd ./target/
        	ls
           '''
      }
    }
    stage ('Deploy1') {
      steps {
        script {
>>>>>>> b9d59f98e0385dfc971bca7a2d5944309b3f2df2
          // url: ‘http://<ip_address>:8080/’ –> Your tomcat url
          // contextPath: ‘/pipeline’         –> Context path to deploy in Tomcat
          // onFailure: false                 –> Flag used to control the deployment, 
          //                                     If pipeline Job fails, below deploy block will not run.
          // war: ‘target/*.war’ –> Your war file name
          deploy adapters: [tomcat9(credentialsId: 'tomcat_manager', path: '', url: 'http://16.171.227.219:8080/')], 
                           contextPath: '/itdefined-war-1.0.0', 
                           onFailure: false, 
                           war: 'maven/target/my.war' 
        }
      }
    }
		}
}


